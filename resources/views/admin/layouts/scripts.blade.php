<!-- begin::Global Config(global config for global JS sciprts) -->
<script>
    var KTAppOptions = {
            "colors": {
                "state": {
                    "brand": "#5d78ff",
                    "dark": "#282a3c",
                    "light": "#ffffff",
                    "primary": "#5867dd",
                    "success": "#34bfa3",
                    "info": "#36a3f7",
                    "warning": "#ffb822",
                    "danger": "#fd3995"
                },
                "base": {
                    "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
                    "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
                }
            }
        };

</script>
<!-- end::Global Config -->

<!--begin:: Global Mandatory Vendors -->
<script src="{{ asset('assets/admin/vendors/general/jquery/dist/jquery.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/popper.js/dist/umd/popper.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap/dist/js/bootstrap.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/js-cookie/src/js.cookie.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/moment/min/moment.min.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/tooltip.js/dist/umd/tooltip.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/perfect-scrollbar/dist/perfect-scrollbar.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/sticky-js/dist/sticky.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/wnumb/wNumb.js') }}" type="text/javascript"></script>

<!--end:: Global Mandatory Vendors -->

<!--begin:: Global Optional Vendors -->
<script src="{{ asset('assets/admin/vendors/general/jquery-form/dist/jquery.form.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/block-ui/jquery.blockUI.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-datepicker/dist/locales/bootstrap-datepicker.ar.min.js') }}"
    type="text/javascript" charset="UTF-8"></script>
    <script src="{{ asset('assets/admin/vendors/general/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/bootstrap-datepicker.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-timepicker/js/bootstrap-timepicker.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/bootstrap-timepicker.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-daterangepicker/daterangepicker.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-maxlength/src/bootstrap-maxlength.js') }}"
    type="text/javascript"></script>
<script
    src="{{ asset('assets/admin/vendors/custom/vendors/bootstrap-multiselectsplitter/bootstrap-multiselectsplitter.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-select/dist/js/bootstrap-select.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-switch/dist/js/bootstrap-switch.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/bootstrap-switch.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/select2/dist/js/select2.full.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/ion-rangeslider/js/ion.rangeSlider.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/typeahead.js/dist/typeahead.bundle.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/handlebars/dist/handlebars.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/inputmask/dist/jquery.inputmask.bundle.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/inputmask/dist/inputmask/inputmask.date.extensions.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/inputmask/dist/inputmask/inputmask.numeric.extensions.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/nouislider/distribute/nouislider.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/owl.carousel/dist/owl.carousel.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/autosize/dist/autosize.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/clipboard/dist/clipboard.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/dropzone/dist/dropzone.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/summernote/dist/summernote.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/markdown/lib/markdown.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-markdown/js/bootstrap-markdown.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/bootstrap-markdown.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/bootstrap-notify/bootstrap-notify.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/bootstrap-notify.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/jquery-validation/dist/jquery.validate.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/jquery-validation/dist/additional-methods.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/jquery-validation.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/toastr/build/toastr.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/raphael/raphael.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/morris.js/morris.js') }}" type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/chart.js/dist/Chart.bundle.js') }}" type="text/javascript">
</script>
<script
    src="{{ asset('assets/admin/vendors/custom/vendors/bootstrap-session-timeout/dist/bootstrap-session-timeout.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/custom/vendors/jquery-idletimer/idle-timer.min.js') }}"
    type="text/javascript"></script>
<script src="{{ asset('assets/admin/vendors/general/waypoints/lib/jquery.waypoints.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/counterup/jquery.counterup.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/es6-promise-polyfill/promise.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/sweetalert2/dist/sweetalert2.min.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/custom/js/vendors/sweetalert2.init.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/jquery.repeater/src/lib.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/jquery.repeater/src/jquery.input.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/jquery.repeater/src/repeater.js') }}" type="text/javascript">
</script>
<script src="{{ asset('assets/admin/vendors/general/dompurify/dist/purify.js') }}" type="text/javascript"></script>

<!--end:: Global Optional Vendors -->



<!--begin::Global Theme Bundle(used by all pages) -->
<script src="{{ asset('assets/admin/js/demo1/scripts.bundle.js') }}" type="text/javascript"></script>

<!--end::Global Theme Bundle -->

<!--begin::Page Vendors(used by this page) -->
<script src="{{ asset('assets/admin/vendors/custom/fullcalendar/fullcalendar.bundle.js') }}" type="text/javascript">
</script>
{{-- <script src="//maps.google.com/maps/api/js?key=AIzaSyBTGnKT7dt597vo9QgeQ7BFhvSRP4eiMSM" type="text/javascript">
    </script>
    <script src="{{ asset('assets/admin/vendors/custom/gmaps/gmaps.js') }}" type="text/javascript"></script> --}}

<!--end::Page Vendors -->

<!--begin::Page Scripts(used by this page) -->
<script src="{{ asset('assets/admin/js/demo1/pages/dashboard.js') }}" type="text/javascript"></script>


<!-- Select2 -->
<!--begin::Page Scripts(used by this page) -->
<script src="{{ asset('assets/admin/js/demo1/pages/crud/forms/widgets/select2.js') }}" type="text/javascript">
</script>


<!-- dropZone -->
<!--begin::Page Scripts(used by this page) -->
<script src="{{ asset('assets/admin/js/demo1/pages/crud/forms/widgets/dropzone.js') }}" type="text/javascript">
</script>



<!-- form validation -->
<!--begin::Page Scripts(used by this page) -->
<script src="{{ asset('assets/admin/js/demo1/pages/crud/forms/validation/form-controls.js') }}" type="text/javascript">
</script>


<!-- datetime and other -->
<!--begin::Page Scripts(used by this page) -->
{{-- <script src="{{ asset('assets/admin/js/demo1/pages/crud/forms/validation/form-widgets.js') }}"
type="text/javascript"></script> --}}


<!-- swal -->
<script src="{{ asset('assets/admin/js/demo1/pages/components/extended/sweetalert2.js') }}" type="text/javascript">
</script>
<!-- toastr -->
<script src="{{ asset('assets/admin/js/demo1/pages/components/extended/toastr.js') }}" type="text/javascript">
</script>
{{-- <x-FlashAlertJs /> --}}

{{-- <x-admin.google-map-jsfile /> --}}

<!-- notify -->
{{--
    <x-pusher.pusher-js />--}}

<!-- Datatable -->
<!--begin::Page Scripts(used by this page) -->
<script type="text/javascript">
    function gat_data(data_div, err_div, type, url, data, special = null) {
            // $('#'+err_div).html(loader());

            $.ajax({
                type: type,
                url: url,
                data: data,
                success: function(data) {
                //  console.log(data);
                //  return;

                    if (data['status'] == 'ma') {
                        jQuery('#popup_div').modal();
                        // $('#popup_div').modal();// because my be this happend in button click not in link so the button doesnt join to a modal
                        $('#details').html(data['ma_html']);

                        return;
                    }


                    msg = data['msg'];
                    if (msg) {
                        if (data['alert'] == 'swal') {
                            Swal.fire({
                                title: msg,
                               // text: msg,
                                type: data['status'],
                                timer: 2000,
                                showConfirmButton: false
                            });
                        }
                    }


                    if (data['html']) {
                        //console.log(data['html']);
                       // console.log('#' + data_div);
                        $('#' + data_div).html(data['html']);

                    }

                    if (data['link']) {
                        window.location.href = '/' + data['link'];
                    } // {{ Request()->lang }}

                    if (data['linkOut']) {
                        window.location.href = data['linkOut'];
                    }

                    if (data['redir']) {
                        location.reload();
                    }

                },
                error: function(xhr, status, error) {
                    // if (xhr.status == 419) // httpexeption login expired or user loged out from another tab
                    // {window.location.replace( '{{ route('admin.home') }}' );}
                    console.log(xhr.responseText);

                },
            });
        }


        function ajaxForm(e, me, data_div, err_div, data) {
            e.preventDefault();
            var type = $(me).attr('method');
            var url = $(me).attr('action');
            var data = $(me).serialize();
            gat_data(data_div, err_div, type, url, data);
        }

        function ajaxlink(e, me, data_div, err_div, data) {
            e.preventDefault();
            var type = 'get';
            var url = $(me).attr("data-href");
            var data = data;
            gat_data(data_div, err_div, type, url, data);
        }


        $(document).ready(function() {
            $(document).on('click', '.pagination a', function(event) {
                event.preventDefault();
                $('li').removeClass('active');
                $(this).parent('li').addClass('active');
                var url = $(this).attr('href');
                if (url ==
                    '#'
                ) { // becuase laravel pagination and datatable pagination has the same structure so this event happend in click on pagination in datatable and laravel
                    return;
                }
                // var page = $(this).attr('href').split('page=')[1];
                gat_data('dt', 'err_dt', 'get', url, '');
            });
        });

</script>

<script>
    //Delete Row
function delete_one(url,type='DELETE'){

       
               
                    var CSRF_TOKEN = $('meta[name="csrf-token"]').attr('content');
                  Swal.fire({
                    title: "{{trans('messages.confirm_delete_one')}}" , 
                    text:  "" , 
                    type: 'warning', 
                    showCancelButton: true, 
                    confirmButtonColor: '#3085d6', 
                    cancelButtonColor: '#d33',
                    confirmButtonText: '{{trans("messages.yes_delete")}}',
                    cancelButtonText: '{{trans("words.cancel")}}',
                  }).then((result) => {
                    if (result.value) {
                              $.ajax({
                              url : url , 
                              type : type , 
                              data : {_token: CSRF_TOKEN } , 
                              dataType:"JSON",
                              success: function (data) {
                                  if(data['success']) {
                         
                                   location.reload();
                                    // $("#kt_table_1 .selected").hide();
                                    // Swal.fire( { title: "{{trans('messages.deleted')}}", text:'', type: "success" });
                                  }

                                  if(data['error']) {
                                      Swal.fire({ title: "{{trans('messages.deleted_faild')}}",  type: "error" } );
                                  }
                              },
                              error: function (xhr, status, error)
                              {
                                if (xhr.status == 419) // httpexeption login expired or user loged out from another tab
                                {
                                    window.location.replace( '{{ route("admin.home") }}' );
                                }
                                Swal.fire( { title: "{{trans('messages.deleted_faild')}}",  type: "error" });
                                console.log(xhr.responseText);

                              }
                          });
                    }
                  })
                 
        


    };

</script>

<x-firebase.notify />


@yield('js_pagelevel')


<style>
  
</style>


<script type="text/javascript">
    $(function () {
     $('.datetimepicker').datetimepicker({ dateFormat: 'yy-mm-dd h:mm'});
     $( ".datepicker" ).datepicker({ format: 'yyyy-mm-dd' } );

    });

   


</script>
